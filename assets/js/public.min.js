!function i(a,u,s){function l(e,t){if(!u[e]){if(!a[e]){var r=!1;if(!t&&r)return r(e,!0);if(f)return f(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[e]={exports:{}};a[e][0].call(o.exports,function(t){return l(a[e][1][t]||t)},o,o.exports,i,a,u,s)}return u[e].exports}for(var f=!1,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,r){"use strict";function n(t,e){for(var r=!!t.getAttribute("data-show-if"),n=r?t.getAttribute("data-show-if").split(":"):t.getAttribute("data-hide-if").split(":"),o=n[0],i=(1<n.length?n[1]:"*").split("|"),a=function(t,e,r){for(var n=[],o=t.querySelectorAll('input[name="'+e+'"], select[name="'+e+'"], textarea[name="'+e+'"], button[name="'+e+'"]'),i=0;i<o.length;i++){var a=o[i],u=a.type.toLowerCase();if("radio"!==u&&"checkbox"!==u||a.checked){if("button"===u||"submit"===u||"BUTTON"===a.tagName){if((!r||r.target!==a)&&t.dataset[e]!==a.value)continue;t.dataset[e]=a.value}n.push(a.value)}}return 0===n.length&&n.push(""),n}(function(t){for(var e=t;e.parentElement;)if("FORM"===(e=e.parentElement).tagName)return e;return null}(t),o,e),u=!1,s=0;s<a.length;s++){var l=a[s];if(u=-1<i.indexOf(l)||-1<i.indexOf("*")&&0<l.length)break}t.style.display=r?u?"":"none":u?"none":"";var f=t.querySelectorAll("input, select, textarea");[].forEach.call(f,function(t){(u||r)&&t.getAttribute("data-was-required")&&(t.required=!0,t.removeAttribute("data-was-required")),u&&r||!t.required||(t.setAttribute("data-was-required","true"),t.required=!1)})}function o(){var t=document.querySelectorAll(".hf-form [data-show-if], .hf-form [data-hide-if]");[].forEach.call(t,n)}function i(e){if(e.target&&e.target.form&&!(e.target.form.className.indexOf("hf-form")<0)){var t=e.target.form.querySelectorAll("[data-show-if], [data-hide-if]");[].forEach.call(t,function(t){return n(t,e)})}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a={init:function(){document.addEventListener("click",i,!0),document.addEventListener("keyup",i,!0),document.addEventListener("change",i,!0),document.addEventListener("hf-refresh",o,!0),window.addEventListener("load",o),o()}};r.default=a},{}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n={},o={trigger:function(t,e){n[t]=n[t]||[],n[t].forEach(function(t){return t.apply(null,e)})},on:function(t,e){n[t]=n[t]||[],n[t].push(e)},off:function(t,e){n[t]=n[t]||[],n[t]=n[t].filter(function(t){return t!==e})}};r.default=o},{}],3:[function(t,e,r){"use strict";function n(t){return t.innerHTML?t.innerHTML:t.value}function o(t,e){t.innerHTML?t.innerHTML=e:t.value=e}function i(t){this.form=t,this.button=t.querySelector('input[type="submit"], button[type="submit"]'),this.loadingInterval=0,this.character="Â·",this.button&&(this.originalButton=this.button.cloneNode(!0))}i.prototype.setCharacter=function(t){this.character=t},i.prototype.start=function(){if(this.button){var t=this.button.getAttribute("data-loading-text");if(t)return void o(this.button,t);var e=window.getComputedStyle(this.button);this.button.style.width=e.width,o(this.button,this.character),this.loadingInterval=window.setInterval(this.tick.bind(this),500)}else this.form.style.opacity="0.5"},i.prototype.tick=function(){var t=n(this.button),e=this.character;o(this.button,5<=t.length?e:t+" "+e)},i.prototype.stop=function(){if(this.button){this.button.style.width=this.originalButton.style.width;var t=n(this.originalButton);o(this.button,t),window.clearInterval(this.loadingInterval)}else this.form.style.opacity=""},e.exports=i},{}],4:[function(t,e,r){"use strict";function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=t("populate.js");function i(t){var e,r={},n=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(new URLSearchParams(t).entries());try{for(n.s();!(e=n.n()).done;){var o=s(e.value,2),i=o[0],a=o[1];if("[]"===i.substr(i.length-2)){var u=i.substr(0,i.length-2);r[u]=r[u]||[],r[u].push(a)}else r[i]=a}}catch(t){n.e(t)}finally{n.f()}return r}var a={init:function(){if(window.URLSearchParams){var t=[].filter.call(document.forms,function(t){return-1<t.className.indexOf("hf-form")});if(t){var e=i(window.location.search);t.forEach(function(t){o(t,e)})}}}};r.default=a},{"populate.js":7}],5:[function(t,e,r){"use strict";!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}()},{}],6:[function(t,e,r){"use strict";var n=a(t("./form-prefiller.js")),o=a(t("./conditionality.js"));t("./polyfills/custom-event.js");var i=a(t("./events.js"));function a(t){return t&&t.__esModule?t:{default:t}}var u=t("./form-loading-indicator.js"),s=window.hf_js_vars||{ajax_url:window.location.href};function l(t){!function(t){var e=t.querySelectorAll(".hf-message");[].forEach.call(e,function(t){t.parentNode.removeChild(t)})}(t),f("submit",t);var e=new FormData(t);[].forEach.call(t.querySelectorAll("[data-was-required=true]"),function(t){e.append("_was_required[]",t.getAttribute("name"))});var r=new XMLHttpRequest;r.onreadystatechange=function(e){var r=new u(e);return r.start(),function(){var t;if(4===this.readyState)if(r.stop(),200<=this.status&&this.status<400){try{t=JSON.parse(this.responseText)}catch(t){return void console.log('HTML Forms: failed to parse AJAX response.\n\nError: "'+t+'"')}f("submitted",e),t.error?f("error",e):f("success",e),t.message&&(function(t,e){var r=document.createElement("p");r.className="hf-message hf-message-"+e.type,r.innerHTML=e.text,r.role="alert",(t.querySelector(".hf-messages")||t).appendChild(r)}(e,t.message),f("message",e)),t.hide_form&&(e.querySelector(".hf-fields-wrap").style.display="none"),t.redirect_url&&(window.location=t.redirect_url),t.error||e.reset()}else console.log(this.responseText)}}(t),r.open("POST",s.ajax_url,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(e),r=null}function f(t,e){e.dispatchEvent(new CustomEvent("hf-"+t)),i.default.trigger(t,[e])}document.addEventListener("submit",function(t){var e=t.target;e.className.indexOf("hf-form")<0||(t.preventDefault(),l(e))},!1),o.default.init(),n.default.init(),window.html_forms={on:i.default.on,off:i.default.off,submit:l}},{"./conditionality.js":1,"./events.js":2,"./form-loading-indicator.js":3,"./form-prefiller.js":4,"./polyfills/custom-event.js":5}],7:[function(t,e,r){void 0!==e&&e.exports&&(e.exports=function t(e,r,n){for(var o in r)if(r.hasOwnProperty(o)){var i=o,a=r[o];if(void 0===a&&(a=""),null===a&&(a=""),void 0!==n&&(i=n+"["+o+"]"),a.constructor===Array)i+="[]";else if("object"==typeof a){t(e,a,i);continue}var u=e.elements.namedItem(i);if(u)switch(u.type||u[0].type){default:u.value=a;break;case"radio":case"checkbox":for(var s=a.constructor===Array?a:[a],l=0;l<u.length;l++)u[l].checked=-1<s.indexOf(u[l].value);break;case"select-multiple":s=a.constructor===Array?a:[a];for(var f=0;f<u.options.length;f++)u.options[f].selected=-1<s.indexOf(u.options[f].value);break;case"select":case"select-one":u.value=a.toString()||a;break;case"date":u.value=new Date(a).toISOString().split("T")[0]}}})},{}]},{},[6]);
//# sourceMappingURL=public.min.js.map
